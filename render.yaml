services:
  - type: web
    name: miniparty-api
    runtime: docker
    repo: https://github.com/Akhildas-ts/mini-party
    branch: main
    rootDir: backend
    dockerfilePath: ./Dockerfile
    region: oregon
    plan: free
    autoDeploy: true
    healthCheckPath: /health

    envVars:
      # 1. Pulls your Turso URL and Token from the group you created
      - fromGroup: miniparty_backend 

      # 2. Admin access token (set manually in Render dashboard)
      - key: ADMIN_SECRET
        value: ""

      # 3. Your Vercel URL (Update this if your Vercel URL changes)
      - key: CORS_ORIGIN
        value: https://mini-party.vercel.app

      # 4. Gin production settings
      - key: GIN_MODE
        value: release